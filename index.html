<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DeepwokenDle</title>

<style>
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: #141a14;
  color: white;
  text-align: center;
  margin: 0;
  padding: 20px;
}

h1 {
  margin-top: 0;
  letter-spacing: 2px;
  text-transform: uppercase;
}

/* Guess input area */
.guess-box {
  margin: 20px auto;
  width: 100%;
  max-width: 400px;
  position: relative;
}

.input-container {
  display: flex;
  gap: 8px;
}

#guessInput {
  flex: 1;
  padding: 12px;
  font-size: 1rem;
  background: #1b221b;
  border: 2px solid #3a3a3c;
  color: white;
  border-radius: 4px;
  outline: none;
}

#guessInput:focus {
  border-color: #538d4e;
}

button {
  padding: 0 20px;
  background: #538d4e;
  border: none;
  color: white;
  font-weight: bold;
  cursor: pointer;
  border-radius: 4px;
  text-transform: uppercase;
  transition: background 0.2s;
}

button:hover {
  background: #467a42;
}

/* Autocomplete suggestions */
.suggestions {
  position: absolute;
  top: 100%;
  left: 0;
  width: calc(100% - 80px); /* Align with input width */
  background: #1b221b;
  border: 1px solid #333;
  z-index: 10;
  text-align: left;
  max-height: 200px;
  overflow-y: auto;
}

.suggestions div {
  padding: 10px;
  cursor: pointer;
  border-bottom: 1px solid #2a332a;
}

.suggestions div:hover {
  background: #2a332a;
}

/* Category headers */
.categories {
  display: grid;
  grid-template-columns: repeat(7, 100px);
  gap: 10px;
  justify-content: center;
  margin-top: 20px;
  font-weight: bold;
  text-transform: uppercase;
  font-size: 0.75rem;
  color: #818384;
}

/* Game grid */
.grid {
  display: grid;
  grid-template-columns: repeat(7, 100px);
  gap: 10px;
  justify-content: center;
  margin: 10px auto 30px;
}

.tile {
  width: 100px;
  height: 100px;
  border: 2px solid #3a3a3c;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  font-size: 0.85rem;
  font-weight: bold;
  box-sizing: border-box;
  background: transparent;
  word-wrap: break-word;
  overflow: hidden;
  padding: 5px;
}

/* --- ANIMATIONS --- */

/* Pop animation for when content is added */
.pop {
  animation: pop 0.2s ease-in-out;
}

@keyframes pop {
  0% { transform: scale(0.8); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

/* Flip animation */
.reveal {
  animation: flip 0.6s ease-in-out forwards;
}

@keyframes flip {
  0% { transform: rotateX(0deg); }
  50% { transform: rotateX(90deg); background: transparent; }
  100% { transform: rotateX(0deg); }
}

.correct { background: #538d4e !important; border-color: #538d4e !important; }
.partial { background: #b59f3b !important; border-color: #b59f3b !important; }
.wrong   { background: #8b2f2f !important; border-color: #8b2f2f !important; }

.tile img {
  width: 90px;
  height: 90px;
  border-radius: 50%;
  object-fit: cover;
  backface-visibility: hidden;
  transform: translateZ(0);
}

</style>
</head>

<body>

<h1>DeepwokenDle</h1>

<div class="guess-box">
  <div class="input-container">
    <input id="guessInput" placeholder="Type a character name" autocomplete="off">
    <button onclick="submitGuess()">Guess</button>
  </div>
  <div id="suggestions" class="suggestions"></div>
</div>

<div class="categories">
  <div> </div>
  <div>Luminant</div>
  <div>Location</div>
  <div>Race</div>
  <div>Gender</div>
  <div>Type</div>
  <div>Name</div>
</div>

<div class="grid" id="grid"></div>

<script>
// ---------------- DATA ----------------
const CHARACTERS = [
  {
    name: "Akira",
    image: "https://i.imgur.com/GAQCwUn.png",
    luminant: "The Depths",
    location: "Scyphozia",
    race: "Etrean",
    gender: "Male",
    type: "NPC"
  },
  {
    name: "Duke Ishamon Erisia",
    image: "https://i.imgur.com/WIHtfmC.png",
    luminant: "Etrean Luminant",
    location: "Erisia",
    race: "Celtor",
    gender: "Male",
    type: "Boss"
  },
  {
    name: "Maestro Evengarde Rest",
    image: "https://i.imgur.com/XmnSQ80.png",
    luminant: "Etrean Luminant",
    location: "Isle of Vigils",
    race: "Etrean",
    gender: "Male",
    type: "NPC/Boss"
  },
  {
    name: "Heart of Enmity",
    image: "https://i.imgur.com/OIH8CAs.png",
    luminant: "The Depths",
    location: "Scyphozia",
    race: "Voice of Enmity",
    gender: "???",
    type: "Boss"
  },
  {
    name: "Chaser",
    image: "https://i.imgur.com/hwXD81p.png",
    luminant: "The Depths",
    location: "Eternal Gale",
    race: "Adret",
    gender: "Male",
    type: "Boss"
  },
  {
    name: "Scion of Ethiron",
    image: "https://i.imgur.com/aJhGKUU.png",
    luminant: "The Depths",
    location: "Eternal Gale",
    race: "Drowned God",
    gender: "???",
    type: "Boss"
  },
  {
    name: "Yun'Shul, Keeper of Hearts",
    image: "https://i.imgur.com/fBHfMyW.png",
    luminant: "The Depths",
    location: "Scyphozia",
    race: "Drowned God",
    gender: "???",
    type: "NPC"
  },
  {
    name: "Korilfiend, the Inferno's Provenance",
    image: "https://i.imgur.com/iSLOy8D.png",
    luminant: "The Depths",
    location: "3rd Layer",
    race: "Drowned God",
    gender: "???",
    type: "???"
  },
  {
    name: "Titus Fulminus Destellus",
    image: "https://i.imgur.com/2tdUArY.png",
    luminant: "Eastern Luminant",
    location: "Aratel Island, Fort Merit",
    race: "Khan",
    gender: "Male",
    type: "Boss"
  },
  {
    name: "Primadon, Titan of the East",
    image: "https://i.imgur.com/LdsBnIz.png",
    luminant: "Eastern Luminant",
    location: "The Monkey's Paw",
    race: "Monster",
    gender: "???",
    type: "Boss"
  },
  {
    name: "Elder Primadon, The Titan Warlord",
    image: "https://i.imgur.com/D2rmBtk.png",
    luminant: "Eastern Luminant",
    location: "The Monkey's Paw",
    race: "Monster",
    gender: "???",
    type: "Boss"
  },
  {
    name: "Dread Serpent",
    image: "https://i.imgur.com/MaiHcjL.png",
    luminant: "Etrean Luminant, Eastern Luminant",
    location: "Voidsea",
    race: "Monster",
    gender: "???",
    type: "Boss"
  },
  {
    name: "Interluminary Parasol",
    image: "https://i.imgur.com/gzt2rd5.png",
    luminant: "Eastern Luminant",
    location: "Open Sea",
    race: "Monster",
    gender: "???",
    type: "Boss"
  },
  {
    name: "The Doom of Caeranthil",
    image: "https://i.imgur.com/R93nKfR.png",
    luminant: "Etrean Luminant",
    location: "Open Sea",
    race: "Monster",
    gender: "???",
    type: "Boss"
  },
  {
    name: "Shogun of the Prophet's Guard",
    image: "https://i.imgur.com/rbqqjYG.png",
    luminant: "Eastern Luminant",
    location: "Aratel Island",
    race: "???",
    gender: "???",
    type: "Boss"
  },
  {
    name: "Dravik, The Rat King",
    image: "https://i.imgur.com/aJ3XUGJ.png",
    luminant: "Etrean Luminant",
    location: "The Golden Rat",
    race: "Etrean",
    gender: "Male",
    type: "Boss"
  },
  {
    name: "Zi'eer, the Fourth Prophet",
    image: "https://i.imgur.com/oLjSiSY.png",
    luminant: "Etrean Luminant",
    location: "Etris",
    race: "Etrean",
    gender: "Male",
    type: "Boss"
  },
  {
    name: "Parliament",
    image: "https://i.imgur.com/OYO2LmZ.png",
    luminant: "The Depths",
    location: "Scyphozia",
    race: "Monster",
    gender: "???",
    type: "Boss"
  },
  {
    name: "The Nestmind",
    image: "https://i.imgur.com/jM0TOqZ.png",
    luminant: "???",
    location: "A Conscious Intersection",
    race: "Monster",
    gender: "???",
    type: "NPC"
  },
  {
    name: "The Gaunt Man",
    image: "https://i.imgur.com/8Y3OlFw.png",
    luminant: "The Depths",
    location: "Scyphozia",
    race: "Krulian",
    gender: "Male",
    type: "NPC"
  },
  {
    name: "Traan Zakshun",
    image: "https://i.imgur.com/ondCSOp.png",
    luminant: "Etrean Luminant",
    location: "Erisia",
    race: "Canor",
    gender: "Male",
    type: "NPC"
  },
  {
    name: "Naan Zakshun",
    image: "https://i.imgur.com/hAy6YBn.png",
    luminant: "The Depths",
    location: "Scyphozia",
    race: "Canor",
    gender: "Female",
    type: "NPC"
  },
  {
    name: "Nostor, Master of Shadow",
    image: "https://i.imgur.com/ciJwsPt.png",
    luminant: "The Depths",
    location: "Scyphozia",
    race: "Ganymede",
    gender: "Non-Binary",
    type: "NPC/Enemy"
  },
  {
    name: "Vyrelda, Master of Blood",
    image: "https://i.imgur.com/aW4IPjZ.png",
    luminant: "The Depths",
    location: "Eternal Gale",
    race: "Etrean",
    gender: "Female",
    type: "NPC/Enemy"
  },
  {
    name: "Nell, Master of Frost",
    image: "https://i.imgur.com/m7VPcPp.png",
    luminant: "Etrean Luminant",
    location: "Etris",
    race: "Adret",
    gender: "Female",
    type: "NPC/Enemy"
  },
  {
    name: "Friid, Master of Gale",
    image: "https://i.imgur.com/PQnEbXa.png",
    luminant: "Etrean Luminant",
    location: "Isle of Vigils",
    race: "Celtor",
    gender: "Female",
    type: "NPC/Enemy"
  },
  {
    name: "Amashi, Master of Flame",
    image: "https://i.imgur.com/nnM6kZp.png",
    luminant: "Eastern Luminant",
    location: "Songseeker Wilds",
    race: "Vesperian",
    gender: "Male",
    type: "NPC/Enemy"
  },
  {
    name: "Funke, Master of Thunder",
    image: "https://i.imgur.com/H3Pa4U1.png",
    luminant: "Eastern Luminant",
    location: "Summer Isle",
    race: "Canor",
    gender: "Male",
    type: "NPC/Enemy"
  },
  {
    name: "Adar, Master of Metal",
    image: "https://i.imgur.com/c7fGnq9.png",
    luminant: "Eastern Luminant",
    location: "Miner's Landing",
    race: "Etrean",
    gender: "Male",
    type: "NPC/Enemy"
  },
  {
    name: "Mechalodaunt",
    image: "https://i.imgur.com/qy28MZc.png",
    luminant: "Eastern Luminant",
    location: "Miner's Landing",
    race: "Monster",
    gender: "???",
    type: "Enemy"
  },
  {
    name: "Megalodaunt",
    image: "https://i.imgur.com/XWOTXvn.png",
    luminant: "Etrean Luminant, Eastern Luminant, The Depths",
    location: "Erisia, Open Sea, Scyphozia",
    race: "Monster",
    gender: "???",
    type: "Enemy"
  },
  {
    name: "Alpha Megalodaunt",
    image: "https://i.imgur.com/Y5ZacPm.png",
    luminant: "Etrean Luminant, Eastern Luminant, The Depths",
    location: "Minityrsa, Aratel Island, Starswept Valley, Scyphozia",
    race: "Monster",
    gender: "???",
    type: "Enemy"
  },
  {
    name: "Crimson Megalodaunt",
    image: "https://i.imgur.com/fFwvypj.png",
    luminant: "Eastern Luminant",
    location: "Songseeker Wilds, Aratel Island, Starswept Valley",
    race: "Monster",
    gender: "???",
    type: "Enemy"
  },
  {
    name: "Prime Megalodaunt",
    image: "https://i.imgur.com/D1wPqoj.png",
    luminant: "The Depths",
    location: "???",
    race: "Monster",
    gender: "???",
    type: "Enemy"
  },
  {
    name: "Songseeker Monk",
    image: "https://i.imgur.com/AMrPRI1.png",
    luminant: "Eastern Luminant",
    location: "Songseeker Wilds",
    race: "Any Aspect",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Bandit",
    image: "https://i.imgur.com/gwLdnaR.png",
    luminant: "Etrean Luminant, Eastern Luminant",
    location: "Erisia, Etris, Isle of Vigils, Summer Isle",
    race: "Any Aspect",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Bandit Leader",
    image: "https://i.imgur.com/CdB4iU9.png",
    luminant: "Etrean Luminant, Eastern Luminant",
    location: "Erisia, Etris, Summer Isle",
    race: "Any Aspect",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Ministry Necromancer",
    image: "https://i.imgur.com/3C2w9fY.png",
    luminant: "Etrean Luminant",
    location: "Minityrsa",
    race: "Ganymede",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Ministry Scout",
    image: "https://i.imgur.com/v8vDqxM.png",
    luminant: "Etrean Luminant, Eastern Luminant",
    location: "Minityrsa, Summer Isle",
    race: "Any Aspect",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Ministry Captain",
    image: "https://i.imgur.com/qy9ez8l.png",
    luminant: "Etrean Luminant",
    location: "Minityrsa",
    race: "Any Aspect",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Summer Company Guard",
    image: "https://i.imgur.com/Jn0kqlm.png",
    luminant: "Eastern Luminant",
    location: "Summer Isle",
    race: "Any Aspect",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Summer Manager",
    image: "https://i.imgur.com/eBnpdi5.png",
    luminant: "Eastern Luminant",
    location: "Summer Isle",
    race: "Any Aspect",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Summer Goon",
    image: "https://i.imgur.com/JiUzYLu.png",
    luminant: "Eastern Luminant",
    location: "Miner's Landing",
    race: "Any Aspect",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Ignition Union Fighter",
    image: "https://i.imgur.com/GSBYw2J.png",
    luminant: "Eastern Luminant, The Depths",
    location: "Summer Isle, Scyphozia",
    race: "Any Aspect",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Ignition Union Guard",
    image: "https://i.imgur.com/e9qVG47.png",
    luminant: "Eastern Luminant",
    location: "Miner's Landing",
    race: "Any Aspect",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Mudskipper",
    image: "https://i.imgur.com/7uJ5Ls3.png",
    luminant: "Etrean Luminant, Eastern Luminant, The Depths",
    location: "Erisia, Open Sea, Scyphozia",
    race: "Monster",
    gender: "???",
    type: "Enemy"
  },
  {
    name: "Bloated Mudskipper",
    image: "https://i.imgur.com/cJvONEi.png",
    luminant: "Etrean Luminant, Eastern Luminant, The Depths",
    location: "Erisia, Open Sea, Scyphozia",
    race: "Monster",
    gender: "???",
    type: "Enemy"
  },
  {
    name: "Mineskipper",
    image: "https://i.imgur.com/t9gQXQ5.png",
    luminant: "Eastern Luminant",
    location: "Songseeker Wilds",
    race: "Monster",
    gender: "???",
    type: "Enemy"
  },
  {
    name: "Bloated Mineskipper",
    image: "https://i.imgur.com/nNE28ov.png",
    luminant: "Eastern Luminant",
    location: "Songseeker Wilds",
    race: "Monster",
    gender: "???",
    type: "Enemy"
  },
  {
    name: "Rotskipper",
    image: "https://i.imgur.com/5tms2rO.png",
    luminant: "Etrean Luminant",
    location: "Erisia",
    race: "Monster",
    gender: "???",
    type: "Enemy"
  },
  {
    name: "Necroskipper",
    image: "https://i.imgur.com/rLUvBbJ.png",
    luminant: "Etrean Luminant",
    location: "Minityrsa",
    race: "Monster",
    gender: "???",
    type: "Enemy"
  },
  {
    name: "Mudskipper Knight",
    image: "https://i.imgur.com/vIWj8yR.png",
    luminant: "Etrean Luminant, Eastern Luminant",
    location: "Erisia, Aratel Island, Meteor Isle",
    race: "Monster",
    gender: "???",
    type: "Enemy"
  },
  {
    name: "Mudskipper Brute",
    image: "https://i.imgur.com/j5kFI6j.png",
    luminant: "Etrean Luminant, Eastern Luminant, The Depths",
    location: "Open Sea, Scyphozia",
    race: "Monster",
    gender: "???",
    type: "Enemy"
  },
  {
    name: "Mudskipper Broodlord",
    image: "https://i.imgur.com/CmNYPY5.png",
    luminant: "Etrean Luminant, Eastern Luminant, The Depths",
    location: "Open Sea, Voidsea, Scyphozia",
    race: "Monster",
    gender: "???",
    type: "Enemy"
  },
  {
    name: "Blade Temple Guard",
    image: "https://i.imgur.com/It9FUiv.png",
    luminant: "Etrean Luminant",
    location: "Isle of Vigils",
    race: "Any Aspect",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Etrean Guardsmen",
    image: "https://i.imgur.com/rZERzgR.png",
    luminant: "Etrean Luminant",
    location: "Etris",
    race: "Etrean",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Etrean Royal Guard",
    image: "https://i.imgur.com/EO7CuNX.png",
    luminant: "Etrean Luminant",
    location: "Etris",
    race: "Etrean",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Vigil Swordsman",
    image: "https://i.imgur.com/g73lqzW.png",
    luminant: "Etrean Luminant, Eastern Luminant",
    location: "Erisia, Aratel Island, Starswept Valley",
    race: "Etrean",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Etrean Soldier",
    image: "https://i.imgur.com/5cDR60v.png",
    luminant: "Etrean Luminant, Eastern Luminant",
    location: "Etris, Erisia, Open Sea, Aratel Island, Starswept Valley",
    race: "Etrean",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Knife of Eylis",
    image: "https://i.imgur.com/rJ8OFyj.png",
    luminant: "Etrean Luminant, Eastern Luminant",
    location: "Erisia, Open Sea",
    race: "Any Aspect",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Subtle Knife of Eylis",
    image: "https://i.imgur.com/sRwmnCf.png",
    luminant: "Etrean Luminant, Eastern Luminant",
    location: "Erisia, Open Sea",
    race: "Any Aspect",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Authority Soldier",
    image: "https://i.imgur.com/xmTDInJ.png",
    luminant: "Etrean Luminant, Eastern Luminant",
    location: "Erisia, Aratel Island, Meteor Isle",
    race: "Any Aspect",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Authority Officer",
    image: "https://i.imgur.com/1CITU8X.png",
    luminant: "Etrean Luminant",
    location: "Erisia",
    race: "Any Aspect",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Authority Captain",
    image: "https://i.imgur.com/aCivLzT.png",
    luminant: "Eastern Luminant",
    location: "Aratel Island, Starswept Valley",
    race: "Any Aspect",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Authority Peacekeeper",
    image: "https://i.imgur.com/FLuuFFY.png",
    luminant: "Eastern Luminant",
    location: "Aratel Island, Fort Merit",
    race: "Any Aspect",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Authority Commander",
    image: "https://i.imgur.com/rMMqRVT.png",
    luminant: "Etrean Luminant, Eastern Luminant",
    location: "Etris, Aratel Island, Fort Merit",
    race: "Any Aspect",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Authority Lieutenant",
    image: "https://i.imgur.com/Q4GQMT5.png",
    luminant: "Eastern Luminant",
    location: "Aratel Island, Starswept Valley, Fort Merit",
    race: "Any Aspect",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Hive Scout",
    image: "https://i.imgur.com/4IjmW2V.png",
    luminant: "Eastern Luminant",
    location: "Aratel Island, Starswept Valley",
    race: "Vesperian, Ganymede, Chrysid",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Hive Guard",
    image: "https://i.imgur.com/XMSpbQg.png",
    luminant: "Eastern Luminant",
    location: "Aratel Island, Greathive Aratel",
    race: "Vesperian, Ganymede, Chrysid",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Hive Adjudicator",
    image: "https://i.imgur.com/L50XYWU.png",
    luminant: "Eastern Luminant",
    location: "Aratel Island, Starswept Valley, Greathive Aratel",
    race: "Vesperian, Ganymede, Chrysid",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Hive Arbiter",
    image: "https://i.imgur.com/so5uLmn.png",
    luminant: "Eastern Luminant",
    location: "Aratel Island, Greathive Aratel",
    race: "Vesperian, Ganymede, Chrysid",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Apprentice Diver",
    image: "https://i.imgur.com/3uvzCdt.png",
    luminant: "The Depths",
    location: "Scyphozia, Castle Light",
    race: "Any Aspect",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Diver",
    image: "https://i.imgur.com/Ult6bVY.png",
    luminant: "The Depths",
    location: "Scyphozia",
    race: "Any Aspect",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Journeyman Diver Guard",
    image: "https://i.imgur.com/464Afu6.png",
    luminant: "Eastern Luminant, The Depths",
    location: "Open Sea, Scyphozia",
    race: "Any Aspect",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Diver Quartermaster",
    image: "https://i.imgur.com/wNfjbGD.png",
    luminant: "Eastern Luminant",
    location: "Open Sea",
    race: "Any Aspect",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Black Diver",
    image: "https://i.imgur.com/wNfjbGD.png",
    luminant: "The Depths",
    location: "Scyphozia, Castle Light",
    race: "Any Aspect",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Celtorian Guard",
    image: "https://i.imgur.com/g5Vgp7n.png",
    luminant: "The Depths",
    location: "Scyphozia, The City of the Drowned",
    race: "Celtor",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Eastern Nomad",
    image: "https://i.imgur.com/uNCL3nH.png",
    luminant: "Etrean Luminant, Eastern Luminant",
    location: "Etris, Summer Isle",
    race: "Gremor",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Eastern Nomad Leader",
    image: "https://i.imgur.com/Y2jwRDF.png",
    luminant: "Etrean Luminant, Eastern Luminant",
    location: "Etris, Summer Isle",
    race: "Gremor",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Eastern Nomad Leader",
    image: "https://i.imgur.com/Y2jwRDF.png",
    luminant: "Etrean Luminant, Eastern Luminant",
    location: "Etris, Summer Isle",
    race: "Gremor",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Legion Soldier",
    image: "https://i.imgur.com/gQOdIgf.png",
    luminant: "Etrean Luminant",
    location: "Erisia",
    race: "Khan",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Legion Captain",
    image: "https://i.imgur.com/I1zscey.png",
    luminant: "Etrean Luminant, Eastern Luminant",
    location: "Erisia, Aratel Island, Starswept Valley",
    race: "Khan",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Legion Sniper",
    image: "https://i.imgur.com/eYYLtyY.png",
    luminant: "Eastern Luminant",
    location: "Aratel Island, Starswept Valley",
    race: "Khan",
    gender: "Male/Female",
    type: "Enemy"
  },
  {
    name: "Polis",
    image: "https://i.imgur.com/8v3qbLG.png",
    luminant: "Etrean Luminant",
    location: "Erisia",
    race: "Vesperian",
    gender: "Male",
    type: "NPC/Enemy"
  },
  {
    name: "Finnegan The Lost",
    image: "https://i.imgur.com/bXoC7C1.png",
    luminant: "The Depths",
    location: "Scyphozia",
    race: "Canor",
    gender: "Male",
    type: "Enemy"
  },
  {
    name: "Ministry Agent",
    image: "https://i.imgur.com/XZROyo9.png",
    luminant: "Etrean Luminant, The Depths",
    location: "Minityrsa, Scyphozia, The Understrand",
    race: "Celtor",
    gender: "Non-Binary",
    type: "NPC/Enemy"
  },
  {
    name: "Aska",
    image: "https://i.imgur.com/59NXjwY.png",
    luminant: "The Depths",
    location: "Eternal Gale",
    race: "Capra",
    gender: "???",
    type: "NPC/Enemy"
  },
  {
    name: "Grudge",
    image: "https://i.imgur.com/SwtBXpO.png",
    luminant: "Etrean Luminant, Eastern Luminant, The Depths",
    location: "Erisia, Minityrsa, Starswept Valley, Songseeker Wilds, Scyphozia, Meteor Isle",
    race: "???",
    gender: "???",
    type: "Enemy"
  },
  {
    name: "The Fisherman",
    image: "https://i.imgur.com/roABBEO.png",
    luminant: "The Depths",
    location: "Scyphozia",
    race: "???",
    gender: "???",
    type: "Enemy"
  },
  {
    name: "Zana",
    image: "https://i.imgur.com/roABBEO.png",
    luminant: "Etrean Luminant, Eastern Luminant",
    location: "Isle of Vigils, Etris, Erisia, The Monkey's Paw",
    race: "Vesperian",
    gender: "Male",
    type: "NPC/Enemy"
  },
  {
    name: "Aelita",
    image: "https://i.imgur.com/VZYezKW.png",
    luminant: "Etrean Luminant",
    location: "Minityrsa",
    race: "Felinor",
    gender: "Female",
    type: "NPC"
  },
  {
    name: "Karliah",
    image: "https://i.imgur.com/gkG06HA.png",
    luminant: "Etrean Luminant",
    location: "Etris, Erisia",
    race: "Adret",
    gender: "Female",
    type: "NPC"
  },
  {
    name: "Cap'n Orlandeau",
    image: "https://i.imgur.com/ZljxWAj.png",
    luminant: "The Depths",
    location: "The Scoundrel's Bounty, Fragments of Self, Eternal Gale",
    race: "Felinor",
    gender: "Male",
    type: "NPC"
  },
  {
    name: "Klaris Llfiend, Mother of Lights",
    image: "https://i.imgur.com/HfYW6cO.png",
    luminant: "The Depths",
    location: "Scyphozia, Castle Light",
    race: "Canor",
    gender: "Female",
    type: "NPC"
  },
  {
    name: "Ferryman",
    image: "https://i.imgur.com/hofOI2X.png",
    luminant: "Eastern Luminant",
    location: "Voidsea",
    race: "Krulian",
    gender: "Male",
    type: "Boss"
  }
];

let ANSWER = CHARACTERS[Math.floor(Math.random() * CHARACTERS.length)];

// ---------------- SETUP ----------------
const grid = document.getElementById("grid");
const input = document.getElementById("guessInput");
const suggestions = document.getElementById("suggestions");
let row = 0;

// Initialize 7 rows of empty tiles
for (let i = 0; i < 42; i++) {
  const div = document.createElement("div");
  div.className = "tile";
  grid.appendChild(div);
}

// ---------------- AUTOCOMPLETE ----------------
input.addEventListener("input", () => {
  const value = input.value.toLowerCase();
  suggestions.innerHTML = "";
  if (!value) return;

  CHARACTERS
    .filter(c => c.name.toLowerCase().includes(value))
    .forEach(c => {
      const div = document.createElement("div");
      div.textContent = c.name;
      div.onclick = () => {
        input.value = c.name;
        suggestions.innerHTML = "";
        submitGuess();
      };
      suggestions.appendChild(div);
    });
});

// ---------------- GUESS LOGIC ----------------
function submitGuess() {
  const guessName = input.value.trim();
  const guess = CHARACTERS.find(c => c.name.toLowerCase() === guessName.toLowerCase());
  
  if (!guess) {
    alert("Invalid character!");
    return;
  }

  const base = row * 7;
  const attrs = ["image", "luminant", "location", "race", "gender", "type", "name"];

  attrs.forEach((attr, i) => {
    const tile = grid.children[base + i];
    
    // Use setTimeout to create a staggered flip effect
    setTimeout(() => {
      tile.classList.add("reveal");
      
      // Change content and color halfway through the flip
      setTimeout(() => {
        if (attr === "image") {
          tile.innerHTML = `<img src="${guess.image}" class="pop">`;
        } else {
          tile.textContent = guess[attr];
          tile.classList.add(
            compareValues(guess[attr], ANSWER[attr])
          );
          tile.classList.add("pop");
        }
      }, 300); 

    }, i * 150); // Each tile starts flipping 150ms after the previous one
  });

if (guess.name === ANSWER.name) {
  setTimeout(() => {
    alert("You won!");
    restartGame();
  }, 2000);
} else if (row === 5) {
  setTimeout(() => {
    alert("Out of guesses! Answer was " + ANSWER.name);
    restartGame();
  }, 2000);
}

  row++;
  input.value = "";
  suggestions.innerHTML = "";
}

function normalizeValues(value) {
  return value
    .split(/[,/]/)           // supports "," and "/"
    .map(v => v.trim().toLowerCase())
    .filter(Boolean);
}
  
function compareValues(guessValue, answerValue) {
  const guessSet = normalizeValues(guessValue);
  const answerSet = normalizeValues(answerValue);

  // Exact match
  if (
    guessSet.length === answerSet.length &&
    guessSet.every(v => answerSet.includes(v))
  ) {
    return "correct";
  }

  // Partial overlap
  if (guessSet.some(v => answerSet.includes(v))) {
    return "partial";
  }

  // No match
  return "wrong";
}
  
function restartGame() {
  // Pick a new answer
  ANSWER = CHARACTERS[Math.floor(Math.random() * CHARACTERS.length)];

  // Reset row counter
  row = 0;

  // Clear grid tiles
  [...grid.children].forEach(tile => {
    tile.className = "tile";
    tile.innerHTML = "";
  });

  // Clear input
  input.value = "";
  suggestions.innerHTML = "";
}

// Allow "Enter" key to submit
input.addEventListener("keypress", (e) => {
  if (e.key === "Enter") submitGuess();
});
</script>

</body>
</html>







